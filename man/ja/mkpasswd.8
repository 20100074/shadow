.\" Copyright 1991, John F. Haugh II
.\" All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 3. All advertising materials mentioning features or use of this software
.\"    must display the following acknowledgement:
.\" This product includes software developed by John F. Haugh, II
.\"      and other contributors.
.\" 4. Neither the name of John F. Haugh, II nor the names of its contributors
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY JOHN HAUGH AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL JOHN HAUGH OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.\"	$Id: mkpasswd.8,v 1.1 2001/06/16 02:35:46 kloczek Exp $
.\"
.\" Japanese Version Copyright (c) 1997 Kazuyoshi Furutaka
.\"         all rights reserved.
.\" Translated Fri Feb 14 23:06:00 JST 1997
.\"         by Kazuyoshi Furutaka <furutaka@Flux.tokai.jaeri.go.jp>
.\"
.\" .TH MKPASSWD 1
.TH MKPASSWD 8
.SH 名前
mkpasswd \- passwd及びgroupデータベースファイルを更新する
.SH 書式
\fBmkpasswd\fR [ \fB-fvgps\fR ] \fIfile\fR
.SH 説明
.I mkpasswd
はフラッグで与えられた書式にしたがってファイルを読み込み、
対応するデータベースファイルの書式に変換する。
作成されたデータベースファイルは、多くのユーザがいるシステムでのアクセス
パフォーマンスを改善する為に用いられる。
出力ファイルは\fIfile\fR.dir及び\fIfile\fR.pagとの名前が付けられる。
.PP
\fB-f\fRオプションを指定すると、\fImkpasswd\fRは既に出力ファイルが存在
していても無視して上書きを行なう。
通常は、出力ファイルが既に存在するとの警告を発して中途終了する。
.PP
\fB-v\fRオプションを付けた場合、\fImkpasswd\fRは変換を行なう毎に
各レコードの情報を出力するとともに、最後に終了メッセージを表示する。
.PP
\fB-g\fRオプションを指定した場合は、入力ファイルが\fB/etc/group\fR
ファイルと同じ書式であるとして処理を行なう。
\fB-s\fRオプションと組み合わせて用いた場合は、\fB/etc/gshadow\fRファイル
の書式として扱う。
.PP
\fB-p\fRオプションを付けた場合は、入力ファイルの書式が\fB/etc/passwd\fR
の形式であるとして処理する。
ディフォルト。
\fB-s\fRオプションと組み合わせた場合は、\fB/etc/shadow\fRファイルの
書式として処理を行う。
.SH 警告
複数のデータベースファイルを使用することは、NDBMデータベースライブラリ
が備わったシステムでのみ可能であり、全てのシステムで用いる事が出来る
訳ではない。
.SH 注意
大抵のコマンドは変更を施した際にデータベースファイルを更新することが出来る
ので、このコマンドは、誤って消去してしまった、または壊れたデータベース
ファイルを再生する時にのみ必要になる。
.SH ファイル
/etc/passwd \- ユーザアカウントの情報
.br
/etc/shadow \- shadowしたユーザアカウントの情報
.br
/etc/group \- グループ情報
.br
/etc/gshadow \- shadowしたグループ情報
.SH 関連項目
passwd(4), group(4), shadow(4)
.SH 翻訳者
古高和禎 <furutaka@Flux.tokai.jaeri.go.jp>
