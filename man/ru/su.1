.\" ** You probably do not want to edit this file directly **
.\" It was generated using the DocBook XSL Stylesheets (version 1.69.1).
.\" Instead of manually editing it, you probably should edit the DocBook XML
.\" source for it and then use the DocBook XSL Stylesheets to regenerate it.
.TH "su" "1" "03/11/2006" "Пользовательские команды" "Пользовательские команды"
.\" disable hyphenation
.nh
.\" disable justification (adjust text to left margin only)
.ad l
.SH "НАЗВАНИЕ"
su \- изменяет ID пользователя или делает его суперпользователем
.SH "СИНТАКСИС"
.HP 3
\fBsu\fR [\fIпараметры\fR] [\-] [\fIusername\fR\ [\ \fIпараметры\fR\ ]]
.SH "ОПИСАНИЕ"
.PP
\fBsu\fR
используется для того чтобы, пользователь мог стать другим пользователем в текущей сессии. Если
\fBsu\fR
вызывается без имени пользователя, то по умолчанию делает пользователя суперпользователем. Необязательный параметр
\fB\-\fR
можно использовать, чтобы воссоздать рабочую среду, такую же как если быть настоящий пользователь выполнял вход в систему.
.PP
После имени пользователя можно указать дополнительные аргументы, которые будут переданы регистрационной оболочке пользователя. В частности, аргумент
\fB\-c\fR
заставит считать большинство оболочек следующий аргумент как команду. Команда будет выполнена оболочкой, указанной в файле
\fI/etc/passwd\fR
, которая является регистрационной для указываемого пользователя.
.PP
Вы можете использовать параметр
\fB\-\-\fR
чтобы отделить
\fBsu\fR
параметры от параметров передаваемых оболочке.
.PP
Пользователю предложат ввести пароль, если он задан. При неверном пароле возникает сообщение об ошибке. Все попытки, удачные и неудачные, протоколируются системой с целью обнаружения злоупотреблений.
.PP
Текущая рабочая среда передаётся оболочке. Значение
\fB$PATH\fR
устанавливается равным
\fI/bin:/usr/bin\fR
для обычных пользователей, или
\fI/sbin:/bin:/usr/sbin:/usr/bin\fR
для суперпользователя. Эти значения можно изменить в переменных
\fIENV_PATH\fR
и
\fIENV_SUPATH\fR
в файле
\fI/etc/login.defs\fR.
.PP
Субсистемный вход в систему можно распознать по наличию символа "*" в начале регистрационной оболочки. Заданный домашний каталог будет использован как корень новой файловой системы, в которой регистрируется пользователь.
.SH "ПАРАМЕТРЫ"
.PP
Возможные параметры команды
\fBsu\fR
:
.TP
\fB\-c\fR, \fB\-\-command\fR \fIОБОЛОЧКА\fR
Указать команду, которая будет запущена оболочкой в виде параметра для
\fB\-c\fR.
.TP
\fB\-\fR, \fB\-l\fR, \fB\-\-login\fR
Предоставляет среду, как если бы пользователь непосредственно регистрировался в системе.
.sp
Если используется
\fB\-\fR
то он должен быть задан
\fBsu\fR
последним. Другая форма (\fB\-l\fR
и
\fB\-\-login\fR) не имеет ограничений.
.TP
\fB\-s\fR, \fB\-\-shell\fR \fIОБОЛОЧКА\fR
Оболочка, которая будет запущена.
.sp
Запущенная оболочка выбирается из (в порядке убывания приоритета):
.RS
.TP 3
\(bu
Оболочка указанная в параметре \-\-shell
.TP
\(bu
Если
\fB\-\-preserve\-environment\fR
задано, то оболочка задаётся переменной
\fB$SHELL\fR.
.TP
\(bu
Оболочка указанная в записи файла /etc/passwd для заданного пользователя.
.TP
\(bu
/bin/sh, если ни одной оболочке не было найдено с помощью методов, указанных выше.
.RE
.IP
.sp
Если заданный пользователь имел ограниченную оболочку (то есть оболочка в поле этой пользовательской записи в файле
\fI/etc/passwd\fR
не прописана в файле
\fI/etc/shell\fR), то параметр
\fB\-\-shell\fR
или переменная среды
\fB$SHELL\fR
не будет взята из учётной записи, если
\fBsu\fR
не была запущена суперпользователем.
.TP
\fB\-m\fR, \fB\-p\fR, \fB\-\-preserve\-environment\fR
Сохранить имеющуюся рабочую среду.
.sp
Если заданный пользователь имел ограниченную оболочку, то этот параметр не сработает (если
\fBsu\fR
не запускается суперпользователем).
.SH "ПРЕДОСТЕРЕЖЕНИЯ"
.PP
Данная версия
\fBsu\fR
может быть собрана с разными параметрами и только некоторые из них смогут быть использованы на любой машине.
.SH "ФАЙЛЫ"
.TP
\fI/etc/passwd\fR
содержит информацию о пользователях
.TP
\fI/etc/shadow\fR
содержит защищаемую информацию о пользователях
.SH "СМОТРИТЕ ТАКЖЕ"
.PP
\fBlogin\fR(1),
\fBlogin.defs\fR(5),
\fBsh\fR(1)
